<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Cause of Death Visualization</title>
  <script src="https://d3js.org/d3.v6.min.js"></script>
  <link rel="stylesheet" href="style.css" />
  <style> 
    .state {
        stroke-width: 1px;;
        stroke-linejoin: round;
    }
    .tooltip {
        position: absolute;
        text-align: center;
        padding: 5px;
        background: lightsteelblue;
        border: 1px solid #333;
        border-radius: 3px;
        pointer-events: none;
    }
</style>
</head>
<body>
  <h1>Visualizing Cause of Death: How Have Causes of Death Evolved Over Time Across the United States? </h1>
  <p id="subtitle">Select a cause of death, states, and a year range to see how trends vary across regions and time. Death rates can be viewed as total deaths or age-adjusted death rate by selecting the desired metric below.</p>
  
  <div id="controls">
    <!-- Cause and Metric dropdowns -->
    <div id="cause-metric-container">
      <div>
        <label for="cause">Select Cause:</label>
        <select id="cause"></select>
      </div>
  
      <div>
        <label for="metric">Select Metric:</label>
        <select id="metric">
          <option value="Age-adjusted Death Rate">Age-adjusted Death Rate</option>
          <option value="Deaths">Number of Deaths</option>
        </select>
      </div>
    </div>
  
    <!-- Year pickers container -->
    <div id="year-pickers-container">
      <div>
        <label for="start-year">Select Start Year:</label>
        <select id="start-year"></select>
      </div>
  
      <div>
        <label for="end-year">Select End Year:</label>
        <select id="end-year"></select>
      </div>
    </div>
  </div>

  <div id="state-checkboxes-container">
    <div id="state-checkboxes-buttons">
      <button id="select-all">Select All</button>
      <button id="deselect-all">Deselect All</button>
    </div>
    
    <div id="state-checkboxes">
      <label id="state-checkboxes-label">Select States:</label>
      <!-- Dynamically generated state checkboxes will appear here -->
    </div>
  </div>

  <!-- Chart and Legend Wrapper -->
  <div id="chart-legend-container">
  <!-- Chart Section -->
  <div id="chart"></div>

  <!-- Legend Section -->
  <div id="legend-container">
    <h3 id="legend-title">State Legend</h3>
    <div id="legend"></div>
  </div>
</div>

<!-- Additional Information Section -->
<div id="info-container">
  <div id = "info-box">
  <h3>Data Source</h3>
  <p id="data-source-info">
    The data used in this visualization comes from the U.S. Department of Health and Human Services, which tracks death rates across the U.S based on all filed resident death certificates. The dataset includes cause-of-death information, along with demographic breakdowns by state and year.
  </p>
  <h3>Interpretation of Age-Adjusted Death</h3>
  <p id="interpretation-info">
    Age-adjusted death rates account for differences in age distribution between populations, allowing for more accurate comparisons of mortality rates across different states and over time. This metric standardizes death rates to the age distribution of a "standard population," (e.g., the 2000 U.S. population for years 1999-2010, and the 2010 U.S. population for years 2010-2017), to eliminate the influence of age differences in the population.
  </p>
  </div>
</div>

  <script src="script.js"></script>
</body>
</html>

